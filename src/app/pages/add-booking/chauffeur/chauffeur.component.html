<div class="row">
  <div class="col-md-12 col-lg-12 col-sm-12">
    <nb-card class="nb-icons">
      <nb-card-header>
        Chauffeur
      </nb-card-header>
      <nb-card-body>
        <!-- Registration Number  -->
        <form ngNativeValidate #f="ngForm" (ngSubmit)="onSubmit(f)">
          <toaster-container [toasterconfig]="config"></toaster-container>
          <div class="row">
            <div class="col-md-5 col-sm-5 col-lg-5">
              <div class="form-group">
                <input type="text" id="num" name="num" style=" text-transform: uppercase" class="form-control" required [(ngModel)]="registrationNumber"
                  #num="ngModel" maxlength="15">
                <label class="form-control-placeholder" for="num">Registration Number*</label>
              </div>
              <div class="form-control-feedback" *ngIf="num.errors && (num.dirty || num.touched)">
                <p *ngIf="num.errors.required" class="haserror">Registration Number is required</p>
              </div>
            </div>
            <div class="col-md-5 col-sm-5 col-lg-5">
              <div class="form-group">
                <select name="servicetype" id="servicetype" class="form-control" [(ngModel)]="serviceType" #servicetype="ngModel" required (change)="getCityList()" [disabled]="disableNext">
                  <option *ngFor="let s of service_type" [value]="s.id"> {{s.type}}</option>
                </select>
                <label class="form-control-placeholder" for="servicetype" *ngIf="!disableNext">Service Type*</label>
              </div>
              <div class="col-md-6 col-lg-6 col-sm-6">
                <div class="form-control-feedback" *ngIf="servicetype.errors && (servicetype.dirty || servicetype.touched)" style="display:inline-block">
                  <p *ngIf="servicetype.errors.required" class="haserror">Service Type is required</p>
                </div>
              </div>
            </div>
            <div class="col-md-2 col-sm-2 col-lg-2">
              <div>
                <button type="button" class="btn btn-warning" [disabled]="!registrationNumber || !serviceType || disableNext" (click)='data()'>Next</button>
              </div>
            </div>
          </div>
          <div *ngIf="show">
            <!-- Vehicle Details -->
            <div class="line">
              <h5>
                <span>Vehicle Details</span>
              </h5>
            </div>
            <div class="row">
              <div class="col-md-6 col-lg-6 col-sm-6">
                <div class="form-group">
                  <select name="brand" id="brand" class="form-control" (change)="onSelectBrand($event.target.value)" [(ngModel)]="selectedBrand"
                    #brand="ngModel" required>
                    <option *ngFor="let b of brands" [value]="b.brand_id"> {{b.brand_name}}</option>
                  </select>
                  <label class="form-control-placeholder" for="brand">Vehicle Brand*</label>
                </div>
              </div>
              <div class="col-md-6 col-lg-6 col-sm-6">
                <div class="form-control-feedback" *ngIf="brand.errors && (brand.dirty || brand.touched)">
                  <p *ngIf="brand.errors.required" class="haserror">Brand is required</p>
                </div>
              </div>
            </div>
            <div class="row" *ngIf="!dontShowModel">
              <div class="col-md-6 col-lg-6 col-sm-6">
                <div class="form-group">
                  <select name="model" id="model" class="form-control" (change)="onSelectModel($event.target.value)" (ngModel)="selectedModel.id"
                    #model="ngModel" required>
                    <option *ngFor="let ma of Models" [value]="ma.model_id"> {{ma.model_name}}</option>
                  </select>
                  <label class="form-control-placeholder" for="model">Vehicle Model*</label>
                </div>
              </div>
              <div class="col-md-6 col-lg-6 col-sm-6">
                <div class="form-control-feedback" *ngIf="model.errors && (model.dirty || model.touched)">
                  <p *ngIf="model.errors.required" class="haserror">Model is required</p>
                </div>
              </div>
            </div>
            <div class="row" *ngIf="!dontShowVariant">
              <div class="col-md-6 col-lg-6 col-sm-6">
                <div class="form-group">
                  <select name="variant" id="variant" class="form-control" (ngModel)="selectedVariant.id" #variant="ngModel" required>
                    <option *ngFor="let va of Variant" [value]="va.variant_id"> {{va.variant_name}}</option>
                  </select>
                  <label class="form-control-placeholder" for="variant">Vehicle Variant*</label>
                </div>
              </div>
              <div class="col-md-6 col-lg-6 col-sm-6">
                <div class="form-control-feedback" *ngIf="variant.errors && (variant.dirty || variant.touched)">
                  <p *ngIf="variant.errors.required" class="haserror">Variant is required</p>
                </div>
              </div>
            </div>
            <!-- Coordinator Name -->
            <h5 *ngIf="serviceType != '15'">
              <span>Coordinator Details</span>
            </h5>
            <div class="row" *ngIf="serviceType != '15'">
              <div class="col-md-6 col-lg-6 col-sm-6">
                <div class="form-group" style="display:inline-block;min-width:15%;">
                  <select id="salutation1" class="form-control" name="salutation1" [(ngModel)]="user.salutation" #salutation1="ngModel" required>
                    <option *ngFor="let s of salutation" [value]="s.type"> {{s.type}}</option>
                  </select>
                </div>
                <div class="form-group" style="display:inline-block;min-width:84%;">
                  <select name="coordinator" id="coordinator" class="form-control" (change)="onCoordinator($event.target.value)" (ngModel)="selectedCoordinator"
                    #coordinator="ngModel" required>
                    <option *ngFor="let s of Coordinator" [value]="s.id"> {{s.first_name}}</option>
                  </select>
                  <label class="form-control-placeholder" for="coordinator">Coordinator Name*</label>
                </div>
              </div>
              <div class="col-md-6 col-lg-6 col-sm-6" style="display:inline-block;">
                <div class="form-control-feedback" *ngIf="coordinator.errors && (coordinator.dirty || coordinator.touched)">
                  <p *ngIf="coordinator.errors.required" class="haserror">Coordinator Name is required</p>
                </div>
                <div style="display:inline-block;margin:3%">
                  <button type="button" (click)="showModal(3)" class="addnumber" style="background-color: white;border-color: orange;margin-top: 1.2em;">
                    <i class="fa fa-plus" style="color:#ffa100" aria-hidden="true"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="row" *ngIf="serviceType != '15'">
              <div class="col-md-8 col-lg-8 col-sm-8 col-xs-8">
                <div class="form-group" style="display:inline-block;max-width: 16%;">
                  <label for="countrycode" style="font-size: 12px;padding-left: 2%;margin-bottom: 0px;margin-top: 1.0em;">Country Code</label>
                  <input type="text" class="form-control" name="countrycode" OnlyNumber="true" [readonly]="true" value="+91" [(ngModel)]="countrycode1"
                    #countrycode="ngModel">

                </div>
                <div class="form-group" style="display:inline-block;min-width: 58%;">
                  <label for="cormob" style="font-size: 12px;padding-left: 2%;margin-bottom: 0px;">Mobile Number*</label>
                  <input type="text" [readonly]="true" id="cormob" class="form-control" name="cormob" [(ngModel)]="selectedCoordinator.mobile_number"
                    #cormob="ngModel">

                </div>
              </div>
            </div>
            <!-- stock yard -->
            <div *ngIf="serviceType === '1'">
              <h5>
                <span>Slot and Location Details</span>
              </h5>
              <div class="row" style="margin-bottom: 2%;">
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <div class="input-group">
                      <input class="form-control" name="dp" [ngModel]="model" [readonly]="true" [minDate]="startDate" (ngModelChange)="onSelectDate($event)"
                        ngbDatepicker #d="ngbDatepicker">
                      <div class="input-group-append">
                        <button class="btn btn-outline-secondary dateButton" (click)="d.toggle()" type="button">
                          <span>
                            <i class="fa fa-calendar"></i>
                          </span>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="form-control-feedback" *ngIf="d.errors && (d.dirty || d.touched)">
                    <p *ngIf="d.errors.required" class="haserror">Date is required</p>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6 col-xs-6">
                  <div class="form-group">
                    <input type="text" id="notes" class="form-control" name="notes" [(ngModel)]="user.notes" #notes="ngModel">
                    <label class="form-control-placeholder" for="notes">Notes</label>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8" *ngIf="showtime">
                  <table cellspacing="20" *ngIf="show3" class="table table-condensed table-responsive">
                    <tr *ngFor="let row of buildArr(slot);let i = index">
                      <td *ngFor="let s of row" class="timeRow">
                        <a (click)=check(s.time_format,s.slothour) class="timeAnchor">{{s.time_format}}</a>
                      </td>
                    </tr>
                  </table>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4" *ngIf="showtime">
                  <input class="form-control" name="slot" *ngIf="slot_time || showtime" [(ngModel)]="slothour" />
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <input type="text" id="pickupdoor" class="form-control" name="pickupdoor" [(ngModel)]="user.pickupdoor" #pickupdoor="ngModel"
                      required>
                    <label class="form-control-placeholder" for="pickupdoor">Pickup Door Number*</label>
                  </div>
                  <div class="form-control-feedback" *ngIf="pickupdoor.errors && (pickupdoor.dirty || pickupdoor.touched)">
                    <p *ngIf="pickupdoor.errors.required">Pickup Door Number is required</p>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <input type="text" id="pickupstreet" class="form-control" name="pickupstreet" [(ngModel)]="user.pickupstreet" #pickupstreet="ngModel"
                      required>
                    <label class="form-control-placeholder" for="pickupstreet">Pickup Street Number*</label>
                  </div>
                  <div class="form-control-feedback" *ngIf="pickupstreet.errors && (pickupstreet.dirty || pickupstreet.touched)">
                    <p *ngIf="pickupstreet.errors.required">Pickup Street Number is required</p>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <input type="text" id="pickloc" class="form-control" name="pickuparea" [(ngModel)]="user.pickuparea" #pickuparea="ngModel"
                      required>
                    <label class="form-control-placeholder" for="pickuparea">Pickup Area*</label>
                  </div>
                  <div class="form-control-feedback" *ngIf="pickuparea.errors && (pickuparea.dirty || pickuparea.touched)">
                    <p *ngIf="pickuparea.errors.required">Pickup Area is required</p>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <input type="text" id="pickuplandmark" class="form-control" name="pickuplandmark" [(ngModel)]="user.pickuplandmark" #pickuplandmark="ngModel"
                      required>
                    <label class="form-control-placeholder" for="pickuplandmark">Pickup Landmark*</label>
                  </div>
                  <div class="form-control-feedback" *ngIf="pickuplandmark.errors && (pickuplandmark.dirty || pickuplandmark.touched)">
                    <p *ngIf="pickuplandmark.errors.required">Pickup Landmark is required</p>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <input type="text" id="pickuppincode" class="form-control" name="pickuppincode" [(ngModel)]="user.pickuppincode" #pickuppincode="ngModel"
                      required>
                    <label class="form-control-placeholder" for="pickuppincode">Pickup Pincode*</label>
                  </div>
                  <div class="form-control-feedback" *ngIf="pickuppincode.errors && (pickuppincode.dirty || pickuppincode.touched)">
                    <p *ngIf="pickuppincode.errors.required">Pickup Pincode is required</p>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <input type="text" id="picklatlong" class="form-control" name="picklatlong" [(ngModel)]="user.picklatlong" #picklatlong="ngModel"
                      pattern="^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$" required>
                    <label class="form-control-placeholder" for="picklatlong">Pickup Lat/Long*</label>
                  </div>
                  <div class="form-control-feedback" *ngIf="picklatlong.errors && (picklatlong.dirty || picklatlong.touched)">
                    <p *ngIf="picklatlong.errors.required">Pickup Lat/Long is required</p>
                  </div>
                </div>
              </div>
            </div>
            <!-- Internal Movement -->
            <div *ngIf="serviceType === '3'">
              <h5>
                <span>Slot and Location Details</span>
              </h5>
              <div class="row" style="margin-bottom: 2%;">
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <div class="input-group">
                      <input class="form-control" name="dp" [ngModel]="model" [readonly]="true" [minDate]="startDate" (ngModelChange)="onSelectDate($event)"
                        ngbDatepicker #d="ngbDatepicker">
                      <div class="input-group-append">
                        <button class="btn btn-outline-secondary dateButton" (click)="d.toggle()" type="button">
                          <span>
                            <i class="fa fa-calendar"></i>
                          </span>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="form-control-feedback" *ngIf="d.errors && (d.dirty || d.touched)">
                    <p *ngIf="d.errors.required" class="haserror">Date is required</p>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6 col-xs-6">
                  <div class="form-group">
                    <input type="text" id="notes" class="form-control" name="notes" [(ngModel)]="user.notes" #notes="ngModel">
                    <label class="form-control-placeholder" for="notes">Notes</label>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8" *ngIf="showtime">
                  <table cellspacing="20" *ngIf="show3" class="table table-condensed table-responsive">
                    <tr *ngFor="let row of buildArr(slot);let i = index">
                      <td *ngFor="let s of row" class="timeRow">
                        <a (click)=check(s.time_format,s.slothour) class="timeAnchor">{{s.time_format}}</a>
                      </td>
                    </tr>
                  </table>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4" *ngIf="showtime">
                  <input class="form-control" name="slot" *ngIf="slot_time || showtime" [(ngModel)]="slothour" />
                </div>
              </div>
              <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="pickupdoor" class="form-control" name="pickupdoor" required 
                                [(ngModel)]="user.pickupdoor" #pickupdoor="ngModel">
                            <label class="form-control-placeholder" for="pickupdoor">Pickup Door Number*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="pickupdoor.errors && (pickupdoor.dirty || pickupdoor.touched)">
                            <p *ngIf="!pickupdoor.errors.required" class="haserror">Pickup Door Number is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" required name="pickupstreet" #pickupstreet="ngModel" [(ngModel)]="user.pickupstreet">
                            <label class="form-control-placeholder" for="id">Pickup Street</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="pickupstreet.errors && (pickupstreet.dirty || pickupstreet.touched)">
                            <p *ngIf="!pickupstreet.errors.required" class="haserror">Pickup Street is required</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" required name="pickuparea" #pickuparea="ngModel" [(ngModel)]="user.pickuparea">
                            <label class="form-control-placeholder" for="id">Pickup Area</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="pickuparea.errors && (pickuparea.dirty || pickuparea.touched)">
                            <p *ngIf="!pickuparea.errors.required" class="haserror">Pickup Area is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" required name="pickuplandmark" #pickuplandmark="ngModel" [(ngModel)]="user.pickuplandmark">
                            <label class="form-control-placeholder" for="id">Pickup Landmark</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="pickuplandmark.errors && (pickuplandmark.dirty || pickuplandmark.touched)">
                            <p *ngIf="!pickuplandmark.errors.required" class="haserror">Pickup Landmark is reqiured</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" required name="pickuppincode" #pickuppincode="ngModel" [(ngModel)]="user.pickuppincode">
                            <label class="form-control-placeholder" for="id">Pickup Pincode</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="pickuppincode.errors && (pickuppincode.dirty || pickuppincode.touched)">
                            <p *ngIf="!pickuppincode.errors.required" class="haserror">Pincode is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="picklatlong" #picklatlong="ngModel" [(ngModel)]="user.picklatlong"
                              pattern="^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$" required>
                            <label class="form-control-placeholder" for="id">Pickup lat,long (12.99,77.6611)</label>
                        </div>
                    </div>
                </div>
              
                <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="dropofffdoor" class="form-control" name="dropofffdoor" required 
                                [(ngModel)]="user.dropofffdoor" #dropofffdoor="ngModel">
                            <label class="form-control-placeholder" for="dropofffdoor">Dropoff Door Number*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="dropofffdoor.errors && (dropofffdoor.dirty || dropofffdoor.touched)">
                            <p *ngIf="!dropofffdoor.errors.required" class="haserror">Dropoff Door Number is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="dropoffstreet" required #dropoffstreet="ngModel"  [(ngModel)]="user.dropoffstreet">
                            <label class="form-control-placeholder" for="id">Dropoff Street</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="dropoffstreet.errors && (dropoffstreet.dirty || dropoffstreet.touched)">
                            <p *ngIf="!dropoffstreet.errors.required" class="haserror">Dropoff Street is required</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="dropoffarea" required #dropoffarea="ngModel"  [(ngModel)]="user.dropoffarea">
                            <label class="form-control-placeholder" for="id">Dropoff Area</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="dropoffarea.errors && (dropoffarea.dirty || dropoffarea.touched)">
                            <p *ngIf="!dropoffarea.errors.required" class="haserror">Dropoff Area is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="dropofflandmark" required #dropofflandmark="ngModel" [(ngModel)]="user.dropofflandmark">
                            <label class="form-control-placeholder" for="id">Dropoff Landmark</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="dropofflandmark.errors && (dropofflandmark.dirty || dropofflandmark.touched)">
                            <p *ngIf="!dropofflandmark.errors.required" class="haserror">Dropoff LandMark is required</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="dropoffpincode" required #dropoffpincode="ngModel"  [(ngModel)]="user.dropoffpincode">
                            <label class="form-control-placeholder" for="id">Dropoff Pincode</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="dropoffpincode.errors && (dropoffpincode.dirty || dropoffpincode.touched)">
                            <p *ngIf="!dropoffpincode.errors.required" class="haserror">Dropoff Pincode is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="droplatlong" #droplatlong="ngModel" [(ngModel)]="user.droplatlong"  pattern="^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$" required>
                            <label class="form-control-placeholder" for="id">Dropoff lat,long (12.99,77.6611)</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="droplatlong.errors && (droplatlong.dirty || droplatlong.touched)">
                            <p *ngIf="!droplatlong.errors.required" class="haserror">format is wrong</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Home delivery -->
            <div *ngIf="serviceType === '4'">
              <h5>
                <span>Customer Details</span>
              </h5>
              <div class="container1">
                <div class="row">
                  <div class="col-md-8 col-lg-8 col-sm-8 col-xs-8">
                    <div class="form-group" style="display:inline-block;max-width: 16%;">
                      <label for="countrycode" style="font-size: 12px;padding-left: 2%;margin-bottom: 0px;">Country Code</label>
                      <input type="text" class="form-control" name="countrycode" OnlyNumber="true" [readonly]="true" value="+91" [(ngModel)]="countrycode1"
                        #countrycode="ngModel">

                    </div>
                    <div class="form-group" style="display:inline-block;min-width: 58%;">
                      <input type="text" class="form-control" name="mobile1" OnlyNumber="true" maxlength="10" (blur)="getinfowithMobile()" [(ngModel)]="cust_details.mobile"
                        required #mobile1="ngModel" pattern="^[0-9]{10}$">
                      <label class="form-control-placeholder" for="mobile1">Mobile Number*</label>
                    </div>
                    <div style="display:inline-block;margin:3%">
                      <button type="button" (click)="show1=!show1" class="addnumber">
                        <i class="fa" [ngClass]="{'fa-plus': !show1, 'fa-minus': show1}" style="color:#ffa100" aria-hidden="true"></i>
                      </button>
                    </div>
                    <div class="form-control-feedback" *ngIf="mobile1.errors && (mobile1.dirty || mobile1.touched)">
                      <p *ngIf="mobile1.errors.required" class="haserror">mobile is required</p>
                      <p *ngIf="!mobile1.errors.valid" class="haserror">mobile must contain digits only</p>
                    </div>
                  </div>
                </div>
                <div *ngIf="show1">
                  <div class="row">
                    <div class="col-md-8 col-lg-8 col-sm-8 col-xs-8">
                      <div class="form-group" style="display:inline-block;max-width: 16%;">
                        <label for="countrycode" style="font-size: 12px;padding-left: 2%;margin-bottom: 0px;">Country Code</label>
                        <input type="text" class="form-control" name="countrycode" OnlyNumber="true" [readonly]="true" value="+91" [(ngModel)]="countrycode1"
                          #countrycode="ngModel" pattern="^[0-9]{10}$">

                      </div>
                      <div class="form-group" style="display:inline-block;min-width: 58%;">
                        <input type="text" class="form-control" name="mobile2" OnlyNumber="true" maxlength="10" [(ngModel)]="cust_details.mobile2"
                          #mobile2="ngModel" pattern="^[0-9]{10}$">
                        <label class="form-control-placeholder" for="mobile2">Mobile Number*</label>
                      </div>
                      <div class="form-control-feedback" *ngIf="mobile2.errors && (mobile2.dirty || mobile2.touched)">
                        <p *ngIf="!mobile2.errors.valid" class="haserror">mobile must contain digits only</p>
                      </div>
                    </div>
                  </div>
                </div>
            </div>
              <div class="row">
                <div class="col-md-8 col-lg-8 col-sm-8 col-xs-8">
                  <div class="form-group" style="display:inline-block;min-width:15%;">
                    <select id="salutation1" class="form-control" name="salutation1" [(ngModel)]="user.salutation" #salutation1="ngModel" required>
                      <option *ngFor="let s of salutation" [value]="s.type"> {{s.type}}</option>
                    </select>
                  </div>
                  <div class="form-group" style="display:inline-block;min-width:59%;">
                    <input type="text" id="Cus_name" class="form-control" required [(ngModel)]="cust_details.first_name" name="Cus_name" #Cus_name="ngModel"
                      style="text-transform: capitalize;">
                    <label class="form-control-placeholder" for="Cus_name">Customer Name*</label>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-control-feedback" *ngIf="Cus_name.errors && (Cus_name.dirty || Cus_name.touched)">
                    <p *ngIf="Cus_name.errors.required" class="haserror">Customer Name is required</p>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <input type="text" id="email" class="form-control" name="email" [(ngModel)]="cust_details.email" #email="ngModel" required
                      pattern="^([a-zA-Z0-9_\.\-])+@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$">
                    <label class="form-control-placeholder" for="email">Email Id*</label>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-control-feedback" *ngIf="email.errors && (email.dirty || email.touched)">
                    <p *ngIf="email.errors.required" class="haserror">Email is required</p>
                    <p *ngIf="!email.errors.valid" class="haserror">Email must contain at least the @ character</p>
                  </div>
                </div>
              </div>
              <h5>
                <span>Slot and Location Details</span>
              </h5>
              <div class="row" style="margin-bottom: 2%;">
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <div class="input-group">
                      <input class="form-control" name="dp" [ngModel]="model" [readonly]="true" [minDate]="startDate" (ngModelChange)="onSelectDate($event)"
                        ngbDatepicker #d="ngbDatepicker">
                      <div class="input-group-append">
                        <button class="btn btn-outline-secondary dateButton" (click)="d.toggle()" type="button">
                          <span>
                            <i class="fa fa-calendar"></i>
                          </span>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="form-control-feedback" *ngIf="d.errors && (d.dirty || d.touched)">
                    <p *ngIf="d.errors.required" class="haserror">Date is required</p>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6 col-xs-6">
                  <div class="form-group">
                    <input type="text" id="amount" class="form-control" name="notes" [(ngModel)]="user.notes" #notes="ngModel">
                    <label class="form-control-placeholder" for="notes">Notes</label>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8" *ngIf="showtime">
                  <table cellspacing="20" *ngIf="show3" class="table table-condensed table-responsive">
                    <tr *ngFor="let row of buildArr(slot);let i = index">
                      <td *ngFor="let s of row" class="timeRow">
                        <a (click)=check(s.time_format,s.slothour) class="timeAnchor">{{s.time_format}}</a>
                      </td>
                    </tr>
                  </table>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4" *ngIf="showtime">
                  <input class="form-control" name="slot" *ngIf="slot_time || showtime" [(ngModel)]="slothour" />
                </div>
              </div>
              <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="pickupdoor" class="form-control" name="pickupdoor" required (ngModelChange)="changeEditpickupdoor($event)"
                                [(ngModel)]="user.pickupdoor" #pickupdoor="ngModel">
                            <label class="form-control-placeholder" for="pickupdoor">Pickup Door Number*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="pickupdoor.errors && (pickupdoor.dirty || pickupdoor.touched)">
                            <p *ngIf="!pickupdoor.errors.required" class="haserror">Pickup Door Number is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" required name="pickupstreet" #pickupstreet="ngModel" [(ngModel)]="user.pickupstreet"
                            (ngModelChange)="changeEditupstreet($event)">
                            <label class="form-control-placeholder" for="id">Pickup Street*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="pickupstreet.errors && (pickupstreet.dirty || pickupstreet.touched)">
                            <p *ngIf="!pickupstreet.errors.required" class="haserror">Pickup Street is required</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" required name="pickuparea" #pickuparea="ngModel" [(ngModel)]="user.pickuparea"
                            (ngModelChange)="changeEditpickuparea($event)">
                            <label class="form-control-placeholder" for="id">Pickup Area*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="pickuparea.errors && (pickuparea.dirty || pickuparea.touched)">
                            <p *ngIf="!pickuparea.errors.required" class="haserror">Pickup Area is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" required name="pickuplandmark" #pickuplandmark="ngModel" [(ngModel)]="user.pickuplandmark"
                            (ngModelChange)="changeEditpickuplandmark($event)">
                            <label class="form-control-placeholder" for="id">Pickup Landmark*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="pickuplandmark.errors && (pickuplandmark.dirty || pickuplandmark.touched)">
                            <p *ngIf="!pickuplandmark.errors.required" class="haserror">Pickup Landmark is reqiured</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" required name="pickuppincode" #pickuppincode="ngModel" [(ngModel)]="user.pickuppincode"
                            (ngModelChange)="changeEditpickuppincode($event)">
                            <label class="form-control-placeholder" for="id">Pickup Pincode*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="pickuppincode.errors && (pickuppincode.dirty || pickuppincode.touched)">
                            <p *ngIf="!pickuppincode.errors.required" class="haserror">Pincode is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="picklatlong" #picklatlong="ngModel" [(ngModel)]="user.picklatlong"
                            (ngModelChange)="changeEditpickuplatlong($event)" pattern="^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$">
                            <label class="form-control-placeholder" for="id">Pickup lat,long (12.99,77.6611)</label>
                        </div>
                    </div>
                </div>

                <div>
                    <label class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" name="sameas" #same (click)="sameas(same.checked)">
                        <span class="custom-control-indicator"></span>
                        <span class="custom-control-description">Drop Location is same as Pickup</span>
                    </label>
                </div>
           
           
                <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="dropofffdoor" class="form-control" name="dropofffdoor" required 
                                [(ngModel)]="user.dropofffdoor" #dropofffdoor="ngModel">
                            <label class="form-control-placeholder" for="dropofffdoor">Dropoff Door Number*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="dropofffdoor.errors && (dropofffdoor.dirty || dropofffdoor.touched)">
                            <p *ngIf="!dropofffdoor.errors.required" class="haserror">Dropoff Door Number is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="dropoffstreet" required #dropoffstreet="ngModel" [(ngModel)]="user.dropoffstreet">
                            <label class="form-control-placeholder" for="id">Dropoff Street*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="dropoffstreet.errors && (dropoffstreet.dirty || dropoffstreet.touched)">
                            <p *ngIf="!dropoffstreet.errors.required" class="haserror">Dropoff Street is required</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="dropoffarea" required #dropoffarea="ngModel" [(ngModel)]="user.dropoffarea">
                            <label class="form-control-placeholder" for="id">Dropoff Area*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="dropoffarea.errors && (dropoffarea.dirty || dropoffarea.touched)">
                            <p *ngIf="!dropoffarea.errors.required" class="haserror">Dropoff Area is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="dropofflandmark" required #dropofflandmark="ngModel" [(ngModel)]="user.dropofflandmark">
                            <label class="form-control-placeholder" for="id">Dropoff Landmark*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="dropofflandmark.errors && (dropofflandmark.dirty || dropofflandmark.touched)">
                            <p *ngIf="!dropofflandmark.errors.required" class="haserror">Dropoff LandMark is required</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="dropoffpincode" required #dropoffpincode="ngModel" [(ngModel)]="user.dropoffpincode">
                            <label class="form-control-placeholder" for="id">Dropoff Pincode*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="dropoffpincode.errors && (dropoffpincode.dirty || dropoffpincode.touched)">
                            <p *ngIf="!dropoffpincode.errors.required" class="haserror">Dropoff Pincode is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="droplatlong" #droplatlong="ngModel" [(ngModel)]="user.droplatlong" pattern="^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$">
                            <label class="form-control-placeholder" for="id">Dropoff lat,long (12.99,77.6611)</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="droplatlong.errors && (droplatlong.dirty || droplatlong.touched)">
                            <p *ngIf="!droplatlong.errors.required" class="haserror">format is wrong</p>
                        </div>
                    </div>
                </div>
              <div class="row">
                <div class="col-md-5 col-lg-5 col-sm-5">
                  <div class="form-group">
                    <select name="salesExe" id="salesExe" class="form-control" name="salesExe" [(ngModel)]="user.salesExe" #salesExe="ngModel"
                      required>
                      <option *ngFor="let s of SaleExceutive" [value]="s.id"> {{s.first_name}} - {{s.mobile_number}}</option>
                    </select>
                    <label class="form-control-placeholder" for="salesExe">Sales Executive*</label>
                  </div>
                </div>
                <div class="col-md-1 col-lg-1 col-sm-1">
                  <div style="display:inline-block;margin-top: 54%;">
                    <button type="button" (click)="showModal(4)" class="addnumber" style="background-color: white;border-color: orange;">
                      <i class="fa fa-plus" style="color:#ffa100" aria-hidden="true"></i>
                    </button>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <input type="text" id="amount" class="form-control" name="amt" [(ngModel)]="user.amount" #amt="ngModel">
                    <label class="form-control-placeholder" for="amount">Amount to be collected</label>
                  </div>
                </div>
              </div>
            </div>
            <!-- Test Drive -->
            <div *ngIf="serviceType === '2'">
              <h5>
                <span>Customer Details</span>
              </h5>
              <div class="container1">
                <div class="row">
                  <div class="col-md-8 col-lg-8 col-sm-8 col-xs-8">
                    <div class="form-group" style="display:inline-block;max-width: 16%;">
                      <label for="countrycode" style="font-size: 12px;padding-left: 2%;margin-bottom: 0px;">Country Code</label>
                      <input type="text" class="form-control" name="countrycode" OnlyNumber="true" [readonly]="true" value="+91" [(ngModel)]="countrycode1"
                        #countrycode="ngModel">
                    </div>
                    <div class="form-group" style="display:inline-block;min-width: 58%;">
                      <input type="text" class="form-control" name="mobile1" OnlyNumber="true" (blur)="getinfowithMobile()" maxlength="10" [(ngModel)]="cust_details.mobile"
                        required #mobile1="ngModel" pattern="^[0-9]{10}$">
                      <label class="form-control-placeholder" for="mobile1">Mobile Number*</label>
                    </div>
                    <div style="display:inline-block;margin:3%">
                      <button type="button" (click)="show1=!show1" class="addnumber">
                        <i class="fa" [ngClass]="{'fa-plus': !show1, 'fa-minus': show1}" style="color:#ffa100" aria-hidden="true"></i>
                      </button>
                    </div>
                    <div class="form-control-feedback" *ngIf="mobile1.errors && (mobile1.dirty || mobile1.touched)">
                      <p *ngIf="mobile1.errors.required">mobile is required</p>
                      <p *ngIf="!mobile1.errors.valid">mobile must contain digits only</p>
                    </div>
                  </div>
                </div>
                <div *ngIf="show1">
                  <div class="row">
                    <div class="col-md-8 col-lg-8 col-sm-8 col-xs-8">
                      <div class="form-group" style="display:inline-block;max-width: 16%;">
                        <label for="countrycode" style="font-size: 12px;padding-left: 2%;margin-bottom: 0px;">Country Code</label>
                        <input type="text" class="form-control" name="countrycode" OnlyNumber="true" [readonly]="true" value="+91" [(ngModel)]="countrycode1"
                          #countrycode="ngModel">
                      </div>
                      <div class="form-group" style="display:inline-block;min-width: 58%;">
                        <input type="text" class="form-control" name="mobile2" maxlength="10" [(ngModel)]="cust_details.mobile2" #mobile2="ngModel"
                          OnlyNumber="true" pattern="^[0-9]{10}$">
                        <label class="form-control-placeholder" for="mobile2">Mobile Number</label>
                      </div>
                      <div class="form-control-feedback" *ngIf="mobile2.errors && (mobile2.dirty || mobile2.touched)">
                        <p *ngIf="!mobile2.errors.valid" class="haserror">mobile must contain digits only</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-8 col-lg-8 col-sm-8 col-xs-8">
                  <div class="form-group" style="display:inline-block;min-width:15%;">
                    <select id="salutation1" class="form-control" name="salutation1" [(ngModel)]="user.salutation" #salutation1="ngModel" required>
                      <option *ngFor="let s of salutation" [value]="s.type"> {{s.type}}</option>
                    </select>
                  </div>
                  <div class="form-group" style="display:inline-block;min-width:59%;">
                    <input type="text" id="Cus_name" class="form-control" required [(ngModel)]="cust_details.first_name" name="Cus_name" #Cus_name="ngModel"
                      style="text-transform: capitalize;">
                    <label class="form-control-placeholder" for="Cus_name">Customer Name*</label>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-control-feedback" *ngIf="Cus_name.errors && (Cus_name.dirty || Cus_name.touched)">
                    <p *ngIf="Cus_name.errors.required" class="haserror">Customer Name is required</p>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <input type="text" id="email" class="form-control" name="email" [(ngModel)]="cust_details.email" #email="ngModel" required
                      pattern="^([a-zA-Z0-9_\.\-])+@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$">
                    <label class="form-control-placeholder" for="email">Email Id*</label>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-control-feedback" *ngIf="email.errors && (email.dirty || email.touched)">
                    <p *ngIf="email.errors.required" class="haserror">Email is required</p>
                    <p *ngIf="!email.errors.valid" class="haserror">Email must contain at least the @ character</p>
                  </div>
                </div>
              </div>
              <h5>
                <span>Slot and Location Details</span>
              </h5>
              <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <label class="switch" style="margin-bottom: -0.5rem;">
                    <input type="checkbox" checked name="amb" #amb (click)="some(amb.checked)">
                    <span class="slider round"></span>
                  </label>
                  <label style="margin-left:1.5rem;margin-bottom: -0.5rem;">Assign to 21North Ambassador</label>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6" *ngIf="!amb.checked">
                  <div class="form-group">
                    <input type="time" id="servicingTime" class="form-control" name="time" [(ngModel)]="user.time" #time="ngModel" required>
                    <label class="form-control-placeholder" for="servicingTime">Slot</label>
                  </div>
                  <div class="form-control-feedback" *ngIf="time.errors && (time.dirty || time.touched)">
                    <p *ngIf="time.errors.required" class="haserror">Time is required</p>
                  </div>
                </div>
              </div>
              <div class="row" style="margin-bottom: 2%;">
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <div class="input-group">
                      <input class="form-control" name="dp" [ngModel]="model" [readonly]="true" [minDate]="startDate" (ngModelChange)="onSelectDate($event)"
                        ngbDatepicker #d="ngbDatepicker">
                      <div class="input-group-append">
                        <button class="btn btn-outline-secondary dateButton" (click)="d.toggle()" type="button">
                          <span>
                            <i class="fa fa-calendar"></i>
                          </span>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="form-control-feedback" *ngIf="d.errors && (d.dirty || d.touched)">
                    <p *ngIf="d.errors.required" class="haserror">Date is required</p>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6 col-xs-6">
                  <div class="form-group">
                    <input type="text" id="amount" class="form-control" name="notes" [(ngModel)]="user.notes" #notes="ngModel">
                    <label class="form-control-placeholder" for="notes">Notes</label>
                  </div>
                </div>
              </div>
              <div class="row" *ngIf="amb.checked">
                <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8" *ngIf="showtime">
                  <table cellspacing="20" *ngIf="show3" class="table table-condensed table-responsive">
                    <tr *ngFor="let row of buildArr(slot);let i = index">
                      <td *ngFor="let s of row" class="timeRow">
                        <a (click)=check(s.time_format,s.slothour) class="timeAnchor">{{s.time_format}}</a>
                      </td>
                    </tr>
                  </table>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4" *ngIf="showtime">
                  <input class="form-control" name="slot" *ngIf="slot_time || showtime" [(ngModel)]="slothour" />
                </div>
              </div>
              <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="pickupdoor" class="form-control" name="pickupdoor" required (ngModelChange)="changeEditpickupdoor($event)"
                                [(ngModel)]="user.pickupdoor" #pickupdoor="ngModel">
                            <label class="form-control-placeholder" for="pickupdoor">Pickup Door Number*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="pickupdoor.errors && (pickupdoor.dirty || pickupdoor.touched)">
                            <p *ngIf="!pickupdoor.errors.required" class="haserror">Pickup Door Number is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" required name="pickupstreet" #pickupstreet="ngModel" [(ngModel)]="user.pickupstreet"
                            (ngModelChange)="changeEditupstreet($event)">
                            <label class="form-control-placeholder" for="id">Pickup Street*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="pickupstreet.errors && (pickupstreet.dirty || pickupstreet.touched)">
                            <p *ngIf="!pickupstreet.errors.required" class="haserror">Pickup Street is required</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" required name="pickuparea" #pickuparea="ngModel" [(ngModel)]="user.pickuparea"
                            (ngModelChange)="changeEditpickuparea($event)">
                            <label class="form-control-placeholder" for="id">Pickup Area*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="pickuparea.errors && (pickuparea.dirty || pickuparea.touched)">
                            <p *ngIf="!pickuparea.errors.required" class="haserror">Pickup Area is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" required name="pickuplandmark" #pickuplandmark="ngModel" [(ngModel)]="user.pickuplandmark"
                            (ngModelChange)="changeEditpickuplandmark($event)">
                            <label class="form-control-placeholder" for="id">Pickup Landmark*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="pickuplandmark.errors && (pickuplandmark.dirty || pickuplandmark.touched)">
                            <p *ngIf="!pickuplandmark.errors.required" class="haserror">Pickup Landmark is reqiured</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" required name="pickuppincode" #pickuppincode="ngModel" [(ngModel)]="user.pickuppincode"
                            (ngModelChange)="changeEditpickuppincode($event)">
                            <label class="form-control-placeholder" for="id">Pickup Pincode*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="pickuppincode.errors && (pickuppincode.dirty || pickuppincode.touched)">
                            <p *ngIf="!pickuppincode.errors.required" class="haserror">Pincode is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="picklatlong" #picklatlong="ngModel" [(ngModel)]="user.picklatlong"
                            (ngModelChange)="changeEditpickuplatlong($event)" pattern="^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$">
                            <label class="form-control-placeholder" for="id">Pickup lat,long (12.99,77.6611)</label>
                        </div>
                    </div>
                </div>

                <div>
                    <label class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" name="sameas" #same (click)="sameas(same.checked)">
                        <span class="custom-control-indicator"></span>
                        <span class="custom-control-description">Drop Location is same as Pickup</span>
                    </label>
                </div>
           
           
                <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="dropofffdoor" class="form-control" name="dropofffdoor" required 
                                [(ngModel)]="user.dropofffdoor" #dropofffdoor="ngModel">
                            <label class="form-control-placeholder" for="dropofffdoor">Dropoff Door Number*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="dropofffdoor.errors && (dropofffdoor.dirty || dropofffdoor.touched)">
                            <p *ngIf="!dropofffdoor.errors.required" class="haserror">Dropoff Door Number is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="dropoffstreet" required #dropoffstreet="ngModel" [(ngModel)]="user.dropoffstreet">
                            <label class="form-control-placeholder" for="id">Dropoff Street*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="dropoffstreet.errors && (dropoffstreet.dirty || dropoffstreet.touched)">
                            <p *ngIf="!dropoffstreet.errors.required" class="haserror">Dropoff Street is required</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="dropoffarea" required #dropoffarea="ngModel" [(ngModel)]="user.dropoffarea">
                            <label class="form-control-placeholder" for="id">Dropoff Area*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="dropoffarea.errors && (dropoffarea.dirty || dropoffarea.touched)">
                            <p *ngIf="!dropoffarea.errors.required" class="haserror">Dropoff Area is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="dropofflandmark" required #dropofflandmark="ngModel" [(ngModel)]="user.dropofflandmark">
                            <label class="form-control-placeholder" for="id">Dropoff Landmark*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="dropofflandmark.errors && (dropofflandmark.dirty || dropofflandmark.touched)">
                            <p *ngIf="!dropofflandmark.errors.required" class="haserror">Dropoff LandMark is required</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="dropoffpincode" required #dropoffpincode="ngModel" [(ngModel)]="user.dropoffpincode">
                            <label class="form-control-placeholder" for="id">Dropoff Pincode*</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="dropoffpincode.errors && (dropoffpincode.dirty || dropoffpincode.touched)">
                            <p *ngIf="!dropoffpincode.errors.required" class="haserror">Dropoff Pincode is required</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <div class="form-group">
                            <input type="text" id="id" class="form-control" name="droplatlong" #droplatlong="ngModel" [(ngModel)]="user.droplatlong" pattern="^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$">
                            <label class="form-control-placeholder" for="id">Dropoff lat,long (12.99,77.6611)</label>
                        </div>
                        <div class="form-control-feedback" *ngIf="droplatlong.errors && (droplatlong.dirty || droplatlong.touched)">
                            <p *ngIf="!droplatlong.errors.required" class="haserror">format is wrong</p>
                        </div>
                    </div>
                </div>
              <div class="row">
                <div class="col-md-5 col-lg-5 col-sm-5">
                  <div class="form-group">
                    <select name="salesExe" id="salesExe" class="form-control" style=" text-transform: uppercase" name="salesExe" [(ngModel)]="user.service_type"
                      #salesExe="ngModel" required>
                      <option *ngFor="let s of SaleExceutive" [value]="s.id">{{s.first_name}} - {{s.mobile_number}}</option>
                    </select>
                    <label class="form-control-placeholder" for="salesExe">Sales Executive*</label>
                  </div>
                </div>
                <div class="col-md-1 col-lg-1 col-sm-1">
                  <div style="display:inline-block;margin-top: 54%;">
                    <button type="button" (click)="showModal(4)" class="addnumber" style="background-color: white;border-color: orange;">
                      <i class="fa fa-plus" style="color:#ffa100" aria-hidden="true"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div *ngIf="serviceType === '15'">
              <h5>
                <span>Customer Details</span>
              </h5>
              <div class="container1">
                <div class="row">
                  <div class="col-md-8 col-lg-8 col-sm-8 col-xs-8">
                    <div class="form-group" style="display:inline-block;max-width: 16%;">
                      <label for="countrycode" style="font-size: 12px;padding-left: 2%;margin-bottom: 0px;">Country Code</label>
                      <input type="text" class="form-control" name="countrycode" OnlyNumber="true" [readonly]="true" value="+91" [(ngModel)]="countrycode1"
                        #countrycode="ngModel">

                    </div>
                    <div class="form-group" style="display:inline-block;min-width: 58%;">
                      <input type="text" class="form-control" name="mobile1" OnlyNumber="true" maxlength="10" (blur)="getinfowithMobile()" [(ngModel)]="cust_details.mobile"
                        required #mobile1="ngModel" pattern="^[0-9]{10}$">
                      <label class="form-control-placeholder" for="mobile1">Mobile Number*</label>
                    </div>
                    <div style="display:inline-block;margin:3%">
                      <button type="button" (click)="show1=!show1" class="addnumber">
                        <i class="fa" [ngClass]="{'fa-plus': !show1, 'fa-minus': show1}" style="color:#ffa100" aria-hidden="true"></i>
                      </button>
                    </div>
                    <div class="form-control-feedback" *ngIf="mobile1.errors && (mobile1.dirty || mobile1.touched)">
                      <p *ngIf="mobile1.errors.required">mobile is required</p>
                      <p *ngIf="!mobile1.errors.valid">mobile must contain digits only</p>
                    </div>
                  </div>
                </div>
                <div *ngIf="show1">
                  <div class="row">
                    <div class="col-md-8 col-lg-8 col-sm-8 col-xs-8">
                      <div class="form-group" style="display:inline-block;max-width: 16%;">
                        <label for="countrycode" style="font-size: 12px;padding-left: 2%;margin-bottom: 0px;">Country Code</label>
                        <input type="text" class="form-control" name="countrycode" OnlyNumber="true" [readonly]="true" value="+91" [(ngModel)]="countrycode1"
                          #countrycode="ngModel" pattern="^[0-9]{10}$">

                      </div>
                      <div class="form-group" style="display:inline-block;min-width: 58%;">
                        <input type="text" class="form-control" name="mobile2" OnlyNumber="true" maxlength="10" [(ngModel)]="cust_details.mobile2"
                          #mobile2="ngModel" pattern="^[0-9]{10}$">
                        <label class="form-control-placeholder" for="mobile2">Mobile Number*</label>
                      </div>
                      <div class="form-control-feedback" *ngIf="mobile2.errors && (mobile2.dirty || mobile2.touched)">
                        <p *ngIf="!mobile2.errors.valid">mobile must contain digits only</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-8 col-lg-8 col-sm-8 col-xs-8">
                  <div class="form-group" style="display:inline-block;min-width:15%;">
                    <select id="salutation1" class="form-control" name="salutation1" [(ngModel)]="user.salutation" #salutation1="ngModel" required>
                      <option *ngFor="let s of salutation" [value]="s.type"> {{s.type}}</option>
                    </select>
                  </div>
                  <div class="form-group" style="display:inline-block;min-width:59%;">
                    <input type="text" id="Cus_name" class="form-control" required [(ngModel)]="cust_details.first_name" name="Cus_name" #Cus_name="ngModel"
                      style="text-transform: capitalize;">
                    <label class="form-control-placeholder" for="Cus_name">Customer Name*</label>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-control-feedback" *ngIf="Cus_name.errors && (Cus_name.dirty || Cus_name.touched)">
                    <p *ngIf="Cus_name.errors.required">Customer Name is required</p>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <input type="text" id="email" class="form-control" name="email" [(ngModel)]="cust_details.email" #email="ngModel" required
                      pattern="^([a-zA-Z0-9_\.\-])+@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$">
                    <label class="form-control-placeholder" for="email">Email Id*</label>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-control-feedback" *ngIf="email.errors && (email.dirty || email.touched)">
                    <p *ngIf="email.errors.required">Email is required</p>
                    <p *ngIf="!email.errors.valid">Email must contain at least the @ character</p>
                  </div>
                </div>
              </div>
              <h5>
                <span> Location Details</span>
              </h5>
              <div class="row">
                <div class="col-md-6 col-lg-6 col-sm-6 col-xs-6">
                  <div class="form-group">
                    <select id="city" class="form-control" name="city" [(ngModel)]="user.city" #city="ngModel" required>
                      <option *ngFor="let city of CityList" [value]="city.cityid"> {{city.cityname}}</option>
                    </select>
                    <label class="form-control-placeholder" for="city">City*</label>
                  </div>
              </div>
              </div>
              <div class="row">
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <input type="text" id="pickupdoor" class="form-control" name="pickupdoor" [(ngModel)]="user.pickupdoor" #pickupdoor="ngModel"
                      required>
                    <label class="form-control-placeholder" for="pickupdoor">Breakdown Door Number*</label>
                  </div>
                  <div class="form-control-feedback" *ngIf="pickupdoor.errors && (pickupdoor.dirty || pickupdoor.touched)">
                    <p *ngIf="pickupdoor.errors.required">Breakdown Door Number is required</p>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <input type="text" id="pickupstreet" class="form-control" name="pickupstreet" [(ngModel)]="user.pickupstreet" #pickupstreet="ngModel"
                      required>
                    <label class="form-control-placeholder" for="pickupstreet">Breakdown Street Number</label>
                  </div>
                  <div class="form-control-feedback" *ngIf="pickupstreet.errors && (pickupstreet.dirty || pickupstreet.touched)">
                    <p *ngIf="pickupstreet.errors.required">Breakdown Street Number is required</p>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <input type="text" id="pickloc" class="form-control" name="pickuparea" [(ngModel)]="user.pickuparea" #pickuparea="ngModel"
                      required>
                    <label class="form-control-placeholder" for="pickuparea">Breakdown Area*</label>
                  </div>
                  <div class="form-control-feedback" *ngIf="pickuparea.errors && (pickuparea.dirty || pickuparea.touched)">
                    <p *ngIf="pickuparea.errors.required">Breakdown Area is required</p>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <input type="text" id="pickuplandmark" class="form-control" name="pickuplandmark" [(ngModel)]="user.pickuplandmark" #pickuplandmark="ngModel"
                      required>
                    <label class="form-control-placeholder" for="pickuplandmark">Breakdown Landmark*</label>
                  </div>
                  <div class="form-control-feedback" *ngIf="pickuplandmark.errors && (pickuplandmark.dirty || pickuplandmark.touched)">
                    <p *ngIf="pickuplandmark.errors.required">Breakdown Landmark is required</p>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <input type="text" id="pickuppincode" class="form-control" name="pickuppincode" [(ngModel)]="user.pickuppincode" #pickuppincode="ngModel"
                      required>
                    <label class="form-control-placeholder" for="pickuppincode">Breakdown Pincode*</label>
                  </div>
                  <div class="form-control-feedback" *ngIf="pickuppincode.errors && (pickuppincode.dirty || pickuppincode.touched)">
                    <p *ngIf="pickuppincode.errors.required">Breakdown Pincode is required</p>
                  </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-6">
                  <div class="form-group">
                    <input type="text" id="picklatlong" class="form-control" name="picklatlong" [(ngModel)]="user.picklatlong" #picklatlong="ngModel"
                      pattern="^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$" required>
                    <label class="form-control-placeholder" for="picklatlong">Breakdown Lat/Long*</label>
                  </div>
                  <div class="form-control-feedback" *ngIf="picklatlong.errors && (picklatlong.dirty || picklatlong.touched)">
                    <p *ngIf="picklatlong.errors.required">Breakdown Lat/Long is required</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12 col-lg-12 col-sm-12">
                <div style="float:right">
                  <button type="submit" class="btn btn-primary">Schedule</button>
                </div>
              </div>
            </div>
          </div>
        </form>
      </nb-card-body>
      <nb-card-footer>
      </nb-card-footer>
    </nb-card>
  </div>
</div>
