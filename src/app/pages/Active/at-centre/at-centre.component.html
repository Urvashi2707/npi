<div class="row desktopView">
  <div class="col-md-12 col-lg-12">
    <nb-card>
      <nb-card-header>At Centre</nb-card-header>
      <nb-card-body>
        <div>
          <div class="row">
            <div class="col-lg-5 col-md-5 ">
              <div class="form-group">
                <div class="input-group">
                  <input class="form-control" name="dp" [ngModel]="model1" (ngModelChange)="onSelectStartDate($event)" ngbDatepicker #d1="ngbDatepicker">
                  <div class="input-group-append">
                    <button class="btn btn-outline-secondary dateButton" (click)="d1.toggle()" type="button" style="height: 100%;border-radius: 0px;">
                      <span>
                        <i class="fa fa-calendar"></i>
                      </span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-5 col-md-5 ">
              <div class="form-group">
                <div class="input-group">
                  <input class="form-control" name="dp" [ngModel]="model" (ngModelChange)="onSelectEndDate($event)" ngbDatepicker #d="ngbDatepicker">
                  <div class="input-group-append">
                    <button class="btn btn-outline-secondary dateButton" (click)="d.toggle()" type="button" style="height: 100%;border-radius: 0px;">
                      <span>
                        <i class="fa fa-calendar"></i>
                      </span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-2 col-md-2">
              <button type="button" class="btn btn-primary" (click)="FilterCheck(1)">Apply</button>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 col-lg-6">
          </div>
          <div class="col-md-6 col-lg-6 ">
            <input type="text" class="search" [(ngModel)]="SearchData" placeholder="search">
          </div>
        </div>
        <table style="width:100%">
          <thead>
            <tr>
              <th (click)="sort('queueid')">ID
                <span class="sort-span">
                  <i class="fa" [ngClass]="{'fa-long-arrow-down':!reverse, 'fa-long-arrow-up':reverse}" style="color:#ffa100" aria-hidden="true"></i>
                </span>
              </th>
              <th (click)="sort('queueid')">License Plate
                <span class="sort-span">
                  <i class="fa" [ngClass]="{'fa-long-arrow-down':!reverse, 'fa-long-arrow-up':reverse}" style="color:#ffa100" aria-hidden="true"></i>
                </span>
              </th>
              <th (click)="sort('veh_number')">Customer
                <span class="sort-span">
                  <i class="fa" [ngClass]="{'fa-long-arrow-down':!reverse, 'fa-long-arrow-up':reverse}" style="color:#ffa100" aria-hidden="true"></i>
                </span>
              </th>
              <th (click)="sort('cust_name')">Pickup Date
                <span class="sort-span">
                  <i class="fa" [ngClass]="{'fa-long-arrow-down':!reverse, 'fa-long-arrow-up':reverse}" style="color:#ffa100" aria-hidden="true"></i>
                </span>
              </th>
              <th (click)="sort('queue_time')">ETD
                <span class="sort-span">
                  <i class="fa" [ngClass]="{'fa-long-arrow-down':!reverse, 'fa-long-arrow-up':reverse}" style="color:#ffa100" aria-hidden="true"></i>
                </span>
              </th>
              <th (click)="sort('dropoff_time')">Paid/Unpaid
                <span class="sort-span">
                  <i class="fa" [ngClass]="{'fa-long-arrow-down':!reverse, 'fa-long-arrow-up':reverse}" style="color:#ffa100" aria-hidden="true"></i>
                </span>
              </th>
              <th (click)="sort('payment_status')">Amount
                <span class="sort-span">
                  <i class="fa" [ngClass]="{'fa-long-arrow-down':!reverse, 'fa-long-arrow-up':reverse}" style="color:#ffa100" aria-hidden="true"></i>
                </span>
              </th>
              <th (click)="sort('queue_total')">Status
                <span class="sort-span">
                  <i class="fa" [ngClass]="{'fa-long-arrow-down':!reverse, 'fa-long-arrow-up':reverse}" style="color:#ffa100" aria-hidden="true"></i>
                </span>
              </th>
              <th *ngIf="InsuranceCheck" (click)="sort('svc_name')">SVC Name
                <span class="sort-span">
                  <i class="fa" [ngClass]="{'fa-long-arrow-down':!reverse, 'fa-long-arrow-up':reverse}" style="color:#ffa100" aria-hidden="true"></i>
                </span>
              </th>
              <th (click)="sort('queue_state')">Upload</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let i of atcentre | filter:SearchData | orderBy: key : reverse | paginate: { id: 'server', itemsPerPage:DataPerPage, currentPage: page + 1, totalItems: RecordCount };">
              <td (click)="openQDetails(i)">{{i.queueid}}</td>
              <td (click)="openQDetails(i)">{{i.veh_number}}</td>
              <td (click)="openQDetails(i)">{{i.cust_name}}</td>
              <td (click)="openQDetails(i)">{{i.queue_time}}</td>
              <td (click)="openQDetails(i)">{{i.dropoff_time}}</td>
              <td (click)="openQDetails(i)">{{i.payment_status}}</td>
              <td (click)="openQDetails(i)">{{i.queue_total}}</td>
              <td (click)="openQDetails(i)">{{i.queue_state}}</td>
              <td *ngIf="InsuranceCheck">{{i.svc_name}}</td>
              <td>
                <button type="button" class="upload-button" (click)="UploadFiles(i)">{{i.upload_button}}</button>
              </td>
            </tr>
          </tbody>
        </table>
        <table *ngIf="MessageNoData">
          {{MessageNoData}}
        </table>
        <ngx-spinner bdColor="rgba(51,51,51,0.09)" size="large" color="#ea5810" type="ball-clip-rotate-pulse"></ngx-spinner>
        <div class="paginate">
          <pagination-controls (pageChange)="FilterCheck($event)" id="server"></pagination-controls>
        </div>
      </nb-card-body>
    </nb-card>
  </div>
</div>
<div class="mobileView">
  <div class="row headerRow">
    <div class="col-4 col-sm-4">
      <div class="header">At Centre</div>
    </div>
    <div class="col-8 col-sm-8">
      <div class="right-inner-addon">
        <i class="fa fa-search"></i>
        <input type="search" class="form-control" placeholder="Search" [(ngModel)]="SearchData" />
      </div>
    </div>
  </div>
  <hr/>
  <div class="row">
    <div class="col-12 col-sm-12">
      <div class="form-group">
        <div class="input-group">
          <input class="form-control" name="dp" [ngModel]="model1" (ngModelChange)="onSelectStartDate($event)" ngbDatepicker #d2="ngbDatepicker">
          <div class="input-group-append">
            <button class="btn btn-outline-secondary dateButton" (click)="d2.toggle()" type="button" style="height: 100%;width: 100%">
              <span>
                <i class="fa fa-calendar"></i>
              </span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-12 col-sm-12">
      <div class="form-group">
        <div class="input-group">
          <input class="form-control" name="dp" [ngModel]="model" (ngModelChange)="onSelectEndDate($event)" ngbDatepicker #d3="ngbDatepicker">
          <div class="input-group-append">
            <button class="btn btn-outline-secondary dateButton" (click)="d3.toggle()" type="button" style="height: 100%;width: 100%">
              <span>
                <i class="fa fa-calendar"></i>
              </span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row applyRow">
    <div class="col-sm-8 col-8"></div>
    <div class="col-sm-2 col-2 applyCol">
      <button type="button" class="btn btn-primary apply" (click)="FilterCheck(1)">Apply</button>
    </div>
  </div>
  <div *ngIf="MessageNoData">{{MessageNoData}}</div>
  <ul>
    <li *ngFor="let i of atcentre | filter:SearchData">
      <div class="card">
        <div class="row padding" *ngIf="InsuranceCheck" (click)="openQDetails(i)">
          <div class="col-12 col-sm-12">
            <span class="QueueId">{{i.svc_name}}</span>
          </div>
        </div>
        <div class="row" (click)="openQDetails(i)">
          <div class="col-12 col-sm-12">
            <span class="QueueId">ID &nbsp;:&nbsp; {{i.queueid}}</span>
            <span class="vehNumber">
              <span class="Ind">IND</span>{{i.veh_number}}</span>
          </div>
        </div>
        <div class="row" (click)="openQDetails(i)">
          <div class="col-12 col-sm-12">
            <span class="title">Customer Name : </span>
            <span>{{i.cust_name}}</span>
          </div>
        </div>
        <div>
          <p class="step1 withBefore"></p>
          <p class="step1" style="float: right;background-color: white;border:3px solid #109B57"></p>
        </div>
        <div style="margin-top: -5%;margin-bottom: 5%;">
          <span style="font-size:12px;padding-right: 15%">{{i.newdate}} | {{i.newtime}}</span>
          <span style="font-size:12px;">{{i.dropdate}} | {{i.droptime}}</span>
        </div>
        <div class="row" (click)="openQDetails(i)">
          <div class="col-9 col-sm-9" *ngIf="i.payment_status == 'Unpaid'">
            <span class="title" style="color:red">Outstanding Amount : </span>
          </div>
          <div class="col-9 col-sm-9" *ngIf="i.payment_status == 'paid'">
            <span class="title" style="color:109B57">Paid Amount : </span>
          </div>
          <div class="col-3 col-sm-3">
            <span>Rs {{i.queue_total}}</span>
          </div>
        </div>
        <div class="row">
          <div class="col-7 col-sm-7 QueueStatus" (click)="openQDetails(i)">{{i.queue_state}}</div>
          <div class="col-5 col-sm-5 buttonCol">
            <button type="button" class="button" (click)="UploadFiles(i)">{{i.upload_button}}</button>
          </div>
        </div>
      </div>
    </li>
  </ul>
  <ngx-spinner bdColor="rgba(51,51,51,0.09)" size="large" color="#ea5810" type="ball-clip-rotate-pulse"></ngx-spinner>
  <div class="paginate">
    <pagination-controls (pageChange)="FilterCheck($event)" id="server" *ngIf="!MessageNoData"></pagination-controls>
  </div>
</div>
